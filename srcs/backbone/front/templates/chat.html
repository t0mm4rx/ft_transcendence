<div>
  <span class="button-icon button-icon-accent button-icon-big" id="chat-icon">
    <i class="fas fa-comment"></i><span class="badge" id="chat-badge">1</span>
  </span>
</div>
<div id="chat-panel" class="panel">
  <div id="chat-panel-close" class="button-icon">
    <i class="fas fa-times"></i>
  </div>

  <div id="chat-panel-content">
    <div id="chat-channels"></div>
    <div id="chat-chat"></div>
  </div>
</div>

<script type="text/template" id="tpl-chat-message">
  <div class="chat-message-container  <%= sentByMe %> <%= sentByLast%>">
    <% if (sentByLast == "") { %>
    <div class="chat-message-infos">
  	<span><%= username %></span><span><%= date %></span>
    </div>
    <% } %>
    <span class="chat-message"><%= body %></span>
  </div>
</script>

<script type="text/template" id="tpl-chat-wrap">
  <div class="chat-header">
    <% if (avatar != "") { %>
    <img id="chat-avatar" src="<%= avatar %>" />
    <% } %>
    <span id="chat-title"><%= name %></span>
    <% if (avatar != "") { %>
    <div class="button-icon" id="start-game"><i class="fas fa-gamepad"></i></div>
    <div class="button-icon" id="block-user"><i class="fas fa-ban"></i></div>
    <% } else { if (admin) { %>
      <div class="button-icon" id="edit-channel"><i class="fas fa-cog"></i></div>
     <% } %>
      <div class="button-icon" id="leave-channel"><i class="fas fa-sign-out-alt"></i></div>
     <% } %>
  </div>
  <div id="chat-messages"></div>
  <div class="chat-input">
    <input type="text" id="chat-input" placeholder="Send something" />
  </div>
</script>

<script type="text/template" id="tpl-channel-list">
  <div id="input-container">
    <div id="icon-container">
      <i class="fas fa-search"></i>
    </div>
    <input type="text" id="channel-input" placeholder="Find user" />
  </div>
  <div id="channels-list">
    <%= channels %>
    <div id="autocomplete-container"></div>
  </div>
  <div id="new-channel-button">
    <i class="far fa-comments"></i><span>New channel</span>
  </div>
</script>

<!-- <script type="text/template" id="tpl-channel-form">
  <div id="form-channel">
    <% if (name) { %>
    <div class="input-wrapper">
      <label for="new-channel-name">Name</label>
      <input type="text" placeholder="Channel name" id="new-channel-name" />
    </div>
    <% } if (password != "") { %>
    <div class="input-wrapper">
      <label for="new-channel-password"><%= password %></label>
      <input type="password" placeholder="Password" id="new-channel-password" />
    </div>
    <% } %>
    <% if (checkbox) { %>
      <div class="input-wrapper">
        <label for="no-password">No password</label>
        <input type="checkbox" id="no-password" />
      </div>
      <% } %>
  </div>
</script> -->

<script type="text/template" id="tpl-edit-channel-form">
  <div class="form-channel" id="edit">
    <% if (owner) { %>
    <div class="input-wrapper">
      <h3>Admins</h3>
      <div class="user-container" id="admin">
      <%= admins %>
      </div>
      <div class="input-field">
      <input class="username" type="text" placeholder="Username" id="admin" />
      <div class="autocomplete" id="admin"></div>
      <div style="display: inline;" class="button add" id="admin">Add</div>
      </div>
    </div>
    <% } %>
    <div class="input-wrapper">
      <h3>Muted</h3>
      <div class="user-container" id="muted">
      <%= muted %>
      </div>
      <div class="input-field">
      <input class="username" type="text" placeholder="Username" id="muted" />
      <div class="autocomplete" id="muted"></div>
      <label for="muted-until">until</label>
      <input type="date" id="muted-until" />
      <div style="display: inline;" class="button add" id="muted">Mute</div>
      </div>
    </div>
    <div class="input-wrapper">
      <h3>Banned</h3>
      <div class="user-container" id="banned">
      <%= banned %>
      </div>
      <div class="input-field">
        <input class="username" type="text" placeholder="Username" id="banned" />
        <div class="autocomplete" id="banned"></div>
        <label for="banned-until">until</label>
        <input type="date" id="banned-until" />
        <div style="display: inline;" class="button add" id="banned">Ban</div>
        </div>
    </div>
    <% if (owner) { %>
    <div class="input-wrapper">
      <h3>Change password</h3>
      <div class="input-field">
      <input type="password" placeholder="New password" id="new-channel-password" />
      <input type="checkbox" id="no-password" />
      <label for="no-password">No password</label>
      </div>
    </div>
    <% } %>
  </div>
</script>

<script type="text/template" id="tpl-edit-channel-form-user">
  <div class="chat-edit user-profile" id="<%= user_id %>">
    <img id="chat-avatar" src="<%= avatar %>" />
    <span id="chat-username"><%= username %></span>
    <div class="button-icon delete"><i class="fas fa-times-circle"></i></div>
  </div>
</script>

<script type="text/html" id="create-channel-form">
  <div class="form-channel" id="create">
    <div class="input-wrapper">
      <!-- <span>Name</span> -->
      <label for="new-channel-name">Name</label>
      <input type="text" placeholder="Channel name" id="new-channel-name" />
    </div>
    <div class="input-wrapper">
      <!-- <span>Password (empty for no password)</span> -->
      <label for="new-channel-password">Password (empty for no password)</label>
      <input type="password" placeholder="Password" id="new-channel-password" />
    </div>
  </div>
</script>

<!-- <script type="text/html" id="channel-password-form">
  <div class="form-channel" id="enter-password">
    <div class="input-wrapper">
      <label for="new-channel-password">Password</label>
      <input type="password" placeholder="Password" id="new-channel-password" />
    </div>
  </div>
</script> -->

<script type="text/template" id="tpl-join-channel-form">
  <div id="form-channel">
    <%  if (password) { %>
    <div class="input-wrapper">
      <label for="new-channel-password"><%= password %></label>
      <input type="password" placeholder="Password" id="new-channel-password" />
    </div>
    <% } %>
  </div>
</script>
